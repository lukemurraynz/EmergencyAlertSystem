---
# Emergency Alert Core System - Kubernetes Secrets
# SECURITY: Database credentials stored separately from ConfigMap
# NOTE: Values are placeholders - CI/CD pipeline substitutes actual values

apiVersion: v1
kind: Secret
metadata:
  name: emergency-alerts-db-credentials
  namespace: emergency-alerts
  labels:
    app: emergency-alerts
    component: database
  annotations:
    # CRITICAL: This Secret contains placeholder variables (${VAR_NAME})
    # that MUST be substituted by the CI/CD pipeline before deployment.
    # DO NOT apply this file directly with kubectl - use the CI/CD pipeline.
type: Opaque
stringData:
  # PostgreSQL credentials - substituted by CI/CD from Key Vault
  POSTGRES_PASSWORD: "${POSTGRES_PASSWORD}"
  # Connection string with password embedded - substituted by CI/CD
  ConnectionStrings__EmergencyAlertsDb: "Server=${POSTGRES_HOST};Port=${POSTGRES_PORT};Database=${POSTGRES_DATABASE};Username=${POSTGRES_USER};Password=${POSTGRES_PASSWORD};SSL Mode=Require;"
